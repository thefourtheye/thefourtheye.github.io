<!DOCTYPE html>
<html lang="en" style="font-size: 125%">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <meta name="author" content="">

  
  
  <meta name="description" content="
This post assumes that, the reader has a very good understanding of SQL.To understand the MongoDB&#39;s aggregation framework, lets start with inserting the following data.db.Student.insert ({Student_Name:&#34;Kalki&#34;,  Class: &#34;2&#34;, Mark_Scored:100, Subject: [&#34;Tamil&#34;, &#34;English&#34;, &#34;Maths&#34;]})db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:10,  Subject: [&#34;Tamil&#34;, &#34;English&#34;]})db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50,  Subject: [&#34;Tamil&#34;]})db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60,  Subject: [&#34;Tamil&#34;]})db.Student.insert ({Student_Name:&#34;Rama&#34;,   Class: &#34;2&#34;, Mark_Scored:80,  Subject: [&#34;Tamil&#34;]})db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50,  Subject: [&#34;English&#34;]})db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60,  Subject: [&#34;English&#34;]})db.Student.insert ({Student_Name:&#34;Rama&#34;,   Class: &#34;2&#34;, Mark_Scored:80,  Subject: [&#34;English&#34;]})db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:67,  Subject: [&#34;Maths&#34;]})db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:95,  Subject: [&#34;Maths&#34;]})db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:88,  Subject: [&#34;Maths&#34;]})db.Student.insert ({Student_Name:&#34;Rama&#34;,   Class: &#34;2&#34;, Mark_Scored:40,  Subject: [&#34;Maths&#34;]})PipelineThe aggregation framework is based on pipeline concept, just like unix pipeline. There can be N number of operators. Output of first operator will be fed as input to the second operator. Output of second operator will be fed as input to the third operator and so on.">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="http://thefourtheye.in//images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="http://thefourtheye.in//images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="http://thefourtheye.in//images/favicon-16x16.png">

  
  
  <meta name="keywords" content='sakthipriyan sakthi sakthipriyan vairamani thefourtheye'>
  

  
  
  <link rel="stylesheet" href='/katex/katex.min.css'>
<script defer defer src='/katex/katex.min.js'></script>
<script defer src='/katex/contrib/auto-render.min.js'></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false
        });
    });
</script>
  

  
    <script async data-name="BMC-Widget" 
        data-cfasync="true" 
        src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" 
        data-id="thefourtheye" 
        data-description="Like what I do? Buy me a coffee!" 
        data-message="" 
        data-color="#d79921" 
        data-position="Right" 
        data-x_margin="18" 
        data-y_margin="18"
        crossorigin="anonymous">
  </script>
  

  
  <meta property="og:url" content="http://thefourtheye.in/2013/04/28/mongodb-aggregation-framework-basics/">
  <meta property="og:site_name" content="thefourtheye.in">
  <meta property="og:title" content="MongoDB Aggregation Framework Basics Explained">
  <meta property="og:description" content="This post assumes that, the reader has a very good understanding of SQL.
To understand the MongoDB&#39;s aggregation framework, lets start with inserting the following data.
db.Student.insert ({Student_Name:&#34;Kalki&#34;, Class: &#34;2&#34;, Mark_Scored:100, Subject: [&#34;Tamil&#34;, &#34;English&#34;, &#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:10, Subject: [&#34;Tamil&#34;, &#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:80, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:80, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:67, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:95, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:88, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:40, Subject: [&#34;Maths&#34;]})
PipelineThe aggregation framework is based on pipeline concept, just like unix pipeline. There can be N number of operators. Output of first operator will be fed as input to the second operator. Output of second operator will be fed as input to the third operator and so on.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="2013">
    <meta property="article:published_time" content="2013-04-28T16:45:00+05:30">
    <meta property="article:modified_time" content="2025-03-15T20:20:33+05:30">
    <meta property="article:tag" content="MongoDB">
    <meta property="article:tag" content="Python">


  
  <link rel="canonical" href="http://thefourtheye.in/2013/04/28/mongodb-aggregation-framework-basics/">

  
  
  
  <meta itemprop="name" content="MongoDB Aggregation Framework Basics Explained">
  <meta itemprop="description" content="This post assumes that, the reader has a very good understanding of SQL.
To understand the MongoDB&#39;s aggregation framework, lets start with inserting the following data.
db.Student.insert ({Student_Name:&#34;Kalki&#34;, Class: &#34;2&#34;, Mark_Scored:100, Subject: [&#34;Tamil&#34;, &#34;English&#34;, &#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:10, Subject: [&#34;Tamil&#34;, &#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:80, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:80, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:67, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:95, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:88, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:40, Subject: [&#34;Maths&#34;]})
PipelineThe aggregation framework is based on pipeline concept, just like unix pipeline. There can be N number of operators. Output of first operator will be fed as input to the second operator. Output of second operator will be fed as input to the third operator and so on.">
  <meta itemprop="datePublished" content="2013-04-28T16:45:00+05:30">
  <meta itemprop="dateModified" content="2025-03-15T20:20:33+05:30">
  <meta itemprop="wordCount" content="1688">
  <meta itemprop="keywords" content="MongoDB,Python">

  
  
  
    <link rel="stylesheet" href="/css/common.min.e562d763c6d0825495eb17de8b2c1d9800cf7c08db1c36accedf77a5fccfc4b9.css" integrity="sha256-5WLXY8bQglSV6xfeiywdmADPfAjbHDaszt93pfzPxLk=" crossorigin="anonymous">
  

  
  
    <link rel="stylesheet" href="/css/content.min.ba38eba94cb47fef9936258c42d11ff19fa9686a30b38e783773fe3f15eb44dc.css" integrity="sha256-ujjrqUy0f&#43;&#43;ZNiWMQtEf8Z&#43;paGows454N3P&#43;PxXrRNw=" crossorigin="anonymous">
  

  
  
  <title>MongoDB Aggregation Framework Basics Explained - </title>
  

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="MongoDB Aggregation Framework Basics Explained">
  <meta name="twitter:description" content="This post assumes that, the reader has a very good understanding of SQL.
To understand the MongoDB&#39;s aggregation framework, lets start with inserting the following data.
db.Student.insert ({Student_Name:&#34;Kalki&#34;, Class: &#34;2&#34;, Mark_Scored:100, Subject: [&#34;Tamil&#34;, &#34;English&#34;, &#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:10, Subject: [&#34;Tamil&#34;, &#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:80, Subject: [&#34;Tamil&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:50, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:60, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:80, Subject: [&#34;English&#34;]})
db.Student.insert ({Student_Name:&#34;Matsya&#34;, Class: &#34;1&#34;, Mark_Scored:67, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Krishna&#34;,Class: &#34;1&#34;, Mark_Scored:95, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Buddha&#34;, Class: &#34;2&#34;, Mark_Scored:88, Subject: [&#34;Maths&#34;]})
db.Student.insert ({Student_Name:&#34;Rama&#34;, Class: &#34;2&#34;, Mark_Scored:40, Subject: [&#34;Maths&#34;]})
PipelineThe aggregation framework is based on pipeline concept, just like unix pipeline. There can be N number of operators. Output of first operator will be fed as input to the second operator. Output of second operator will be fed as input to the third operator and so on.">


  


  <link rel="stylesheet" href="/css/single.min.6bebcc6a38eca12d546c5f3c93e53436d4bc29b64d23a864c59565999404e564.css" integrity="sha256-a&#43;vMajjsoS1UbF88k&#43;U0NtS8KbZNI6hkxZVlmZQE5WQ="
							       crossorigin="anonymous">


  <link rel="stylesheet" href="/css/single.min.78a121b7d7a160420f9daab0ea13add66c37b9c44f27bba07b27207e2b0975d2.css" integrity="sha256-eKEht9ehYEIPnaqw6hOt1mw3ucRPJ7ugeycgfisJddI="
							       crossorigin="anonymous">


</head>

<body>
  <div id="wrapper">
    


<header id="header">
  <h1>
    <a href="http://thefourtheye.in/">thefourtheye.in</a>
    <button id="dark-mode-toggle" class="dark-mode-toggle" aria-label="Toggle theme">
        <svg width="2rem" height="2rem" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 496">
        <path fill="currentColor" d="M8,256C8,393,119,504,256,504S504,393,504,256,393,8,256,8,8,119,8,256ZM256,440V72a184,184,0,0,1,0,368Z" transform="translate(-8 -8)"/>
        </svg>
    </button>
  </h1>

  <nav>
    
    <span class="nav-bar-item">
      
      <a class="link" href="/">Home</a>
    </span>
    
    <span class="nav-bar-item">
      
        <span class="icon"><svg width="1em" height="1em" viewBox="0 0 24 24"
xmlns="http://www.w3.org/2000/svg">
	<path d="M7.5,6A1.5,1.5,0,1,0,9,7.5,1.5,1.5,0,0,0,7.5,6Zm13.62,4.71L12.71,2.29A1,1,0,0,0,12,2H3A1,1,0,0,0,2,3v9a1,1,0,0,0,.29.71l8.42,8.41a3,3,0,0,0,4.24,0L21.12,15a3,3,0,0,0,0-4.24Zm-1.41,2.82h0l-6.18,6.17a1,1,0,0,1-1.41,0L4,11.59V4h7.59l8.12,8.12a1,1,0,0,1,.29.71A1,1,0,0,1,19.71,13.53Z"/></svg>
</span>
      
      <a class="link" href="/tags">Tags</a>
    </span>
    
    <span class="nav-bar-item">
      
        <span class="icon"><svg width="1em" height="1em" viewBox="0 0 24 24"
xmlns="http://www.w3.org/2000/svg">
<path
d="M2.88,16.88a3,3,0,0,0,0,4.24,3,3,0,0,0,4.24,0,3,3,0,0,0-4.24-4.24Zm2.83,2.83a1,1,0,0,1-1.42-1.42,1,1,0,0,1,1.42,0A1,1,0,0,1,5.71,19.71ZM5,12a1,1,0,0,0,0,2,5,5,0,0,1,5,5,1,1,0,0,0,2,0,7,7,0,0,0-7-7ZM5,8a1,1,0,0,0,0,2,9,9,0,0,1,9,9,1,1,0,0,0,2,0,11.08,11.08,0,0,0-3.22-7.78A11.08,11.08,0,0,0,5,8Zm10.61.39A15.11,15.11,0,0,0,5,4,1,1,0,0,0,5,6,13,13,0,0,1,18,19a1,1,0,0,0,2,0A15.11,15.11,0,0,0,15.61,8.39Z"/></svg>
</span>
      
      <a class="link" href="/index.xml">RSS</a>
    </span>
    
  </nav>
</header>
<hr />

    
<main id="main" class="post">
  
  <div class="post-heading">
    <h1 class="post-title">MongoDB Aggregation Framework Basics Explained</h1>
    <div class="publish-metadata">
      
      <svg width="0.75em" height="0.75em" viewBox="0 0 24 24" fill="none"
	   xmlns="http://www.w3.org/2000/svg">
        <path d="M3 9H21M7 3V5M17 3V5M6 13H8M6 17H8M11 13H13M11 17H13M16
        13H18M16 17H18M6.2 21H17.8C18.9201 21 19.4802 21 19.908 20.782C20.2843
        20.5903 20.5903 20.2843 20.782 19.908C21 19.4802 21 18.9201 21
        17.8V8.2C21 7.07989 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843
        5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5
        4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3
        6.51984 3 7.07989 3 8.2V17.8C3 18.9201 3 19.4802 3.21799 19.908C3.40973
        20.2843 3.71569 20.5903 4.09202 20.782C4.51984 21 5.07989 21 6.2 21Z"
        stroke="currentColor" stroke-width="2" stroke-linecap="round"
        stroke-linejoin="round"/>
      </svg>
      28 April 2013
      
      
        &nbsp;
        <span>
          <svg width="0.75em" height="0.75em" viewBox="0 0 24 24" fill="none"
      xmlns="http://www.w3.org/2000/svg">
            <path d="M15.4998 5.49994L18.3282 8.32837M3 20.9997L3.04745
            20.6675C3.21536 19.4922 3.29932 18.9045 3.49029 18.3558C3.65975
            17.8689 3.89124 17.4059 4.17906 16.9783C4.50341 16.4963 4.92319
            16.0765 5.76274 15.237L17.4107 3.58896C18.1918 2.80791 19.4581
            2.80791 20.2392 3.58896C21.0202 4.37001 21.0202 5.63634 20.2392
            6.41739L8.37744 18.2791C7.61579 19.0408 7.23497 19.4216 6.8012
            19.7244C6.41618 19.9932 6.00093 20.2159 5.56398 20.3879C5.07171
            20.5817 4.54375 20.6882 3.48793 20.9012L3 20.9997Z"
            stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round"/>
          </svg>
          1688 words
        </span>
      
      
      
        
      
      
        &nbsp;
        <span>
          <svg width="0.75em" height="0.75em" viewBox="0 0 24 24" fill="none"
      xmlns="http://www.w3.org/2000/svg">
            <path d="M12 7V12L14.5 13.5M21 12C21 16.9706 16.9706 21 12
            21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21
            7.02944 21 12Z" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          ~8 mins
        </span>
      
    </div>
  </div>

  
  <div>
    
    <a class="link tag" href='http://thefourtheye.in/tags/mongodb'>#MongoDB</a>
    
    <a class="link tag" href='http://thefourtheye.in/tags/python'>#Python</a>
    
    <br></br>
  </div>
  
  
  
  <details>
    <summary>
      <b>Table of Contents</b>
    </summary>
    <div class="toc numbered-subtitles"></div>
  </details>
  
  
  <article class="content numbered-subtitles">
    
    
<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">This post assumes that, the reader has a very good understanding of SQL.<br /><br />To understand the MongoDB's aggregation framework, lets start with inserting the following data.<br /><pre class="prettyprint">db.Student.insert ({Student_Name:"Kalki",  Class: "2", Mark_Scored:100, Subject: ["Tamil", "English", "Maths"]})<br />db.Student.insert ({Student_Name:"Matsya", Class: "1", Mark_Scored:10,  Subject: ["Tamil", "English"]})<br /><br />db.Student.insert ({Student_Name:"Krishna",Class: "1", Mark_Scored:50,  Subject: ["Tamil"]})<br />db.Student.insert ({Student_Name:"Buddha", Class: "2", Mark_Scored:60,  Subject: ["Tamil"]})<br />db.Student.insert ({Student_Name:"Rama",   Class: "2", Mark_Scored:80,  Subject: ["Tamil"]})<br /><br />db.Student.insert ({Student_Name:"Krishna",Class: "1", Mark_Scored:50,  Subject: ["English"]})<br />db.Student.insert ({Student_Name:"Buddha", Class: "2", Mark_Scored:60,  Subject: ["English"]})<br />db.Student.insert ({Student_Name:"Rama",   Class: "2", Mark_Scored:80,  Subject: ["English"]})<br /><br />db.Student.insert ({Student_Name:"Matsya", Class: "1", Mark_Scored:67,  Subject: ["Maths"]})<br />db.Student.insert ({Student_Name:"Krishna",Class: "1", Mark_Scored:95,  Subject: ["Maths"]})<br />db.Student.insert ({Student_Name:"Buddha", Class: "2", Mark_Scored:88,  Subject: ["Maths"]})<br />db.Student.insert ({Student_Name:"Rama",   Class: "2", Mark_Scored:40,  Subject: ["Maths"]})<br /></pre><br /><h1>Pipeline</h1><p>The aggregation framework is based on pipeline concept, just like <a href="http://en.wikipedia.org/wiki/Pipeline_%28Unix%29">unix pipeline</a>. There can be N number of operators. Output of first operator will be fed as input to the second operator. Output of second operator will be fed as input to the third operator and so on.</p><br /><h1>Pipeline Operators</h1><p>Following are the basic pipeline operators and let us make use of these operators over the sample data which we created. <b>We are not going to discuss about Map-Reduce in this post.</b><br /><ol><li><a href="#match">$match</a></li><li><a href="#unwind">$unwind</a></li><li><a href="#group">$group</a></li><li><a href="#project">$project</a></li><li><a href="#skipandlimit">$skip</a></li><li><a href="#skipandlimit">$limit</a></li><li><a href="#sort">$sort</a></li></ol></p><h2 id="match">$match</h2><p>This is similar to MongoDB Collection's find method and SQL's WHERE clause. Basically this filters the data which is passed on to the next operator. There can be multiple $match operators in the pipeline.</p><br /><b>Note:</b>The data what we pass to the aggregate function should be a list of Javascript objects (Python dictionaries). Each and every operator should be in a separate javascript object like shown in all the examples below.<br /><br /><b>Example:</b>We want to consider only the marks of the students who study in Class "2"<br /><pre class="prettyprint">db.Student.aggregate ([<br />  {<br />     "$match":<br />     {<br />        "Class":"2"<br />     }<br />  }<br />  ])<br /></pre>and the result is<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5c"),<br />			"Student_Name" : "Kalki",<br />			"Class" : "2",<br />			"Mark_Scored" : 100,<br />			"Subject" : [<br />				"Tamil",<br />				"English",<br />				"Maths"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5f"),<br />			"Student_Name" : "Buddha",<br />			"Class" : "2",<br />			"Mark_Scored" : 60,<br />			"Subject" : [<br />				"Tamil"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa60"),<br />			"Student_Name" : "Rama",<br />			"Class" : "2",<br />			"Mark_Scored" : 80,<br />			"Subject" : [<br />				"Tamil"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa62"),<br />			"Student_Name" : "Buddha",<br />			"Class" : "2",<br />			"Mark_Scored" : 60,<br />			"Subject" : [<br />				"English"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa63"),<br />			"Student_Name" : "Rama",<br />			"Class" : "2",<br />			"Mark_Scored" : 80,<br />			"Subject" : [<br />				"English"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa66"),<br />			"Student_Name" : "Buddha",<br />			"Class" : "2",<br />			"Mark_Scored" : 88,<br />			"Subject" : [<br />				"Maths"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa67"),<br />			"Student_Name" : "Rama",<br />			"Class" : "2",<br />			"Mark_Scored" : 40,<br />			"Subject" : [<br />				"Maths"<br />			]<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre>Let us say, we want to consider only the marks of the students who study in Class "2" and whose marks are more than or equal to 80<br /><pre class="prettyprint">db.Student.aggregate ([<br />  {<br />     "$match":<br />     {<br />        "Class":"2",<br />        "Mark_Scored":<br />        {<br />           "$gte": 80<br />        }<br />     }<br />  }<br />  ])<br /></pre>Or we can use $match operator twice to achieve the same result<br /><pre class="prettyprint">db.Student.aggregate ([<br />  {<br />     "$match":<br />     {<br />        "Class":"2",<br />     }<br />  },<br />  {<br />     "$match":<br />     {<br />        "Mark_Scored":<br />        {<br />           "$gte": 80<br />        }<br />     }<br />  }<br />  ])<br /></pre>and the result would be<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5c"),<br />			"Student_Name" : "Kalki",<br />			"Class" : "2",<br />			"Mark_Scored" : 100,<br />			"Subject" : [<br />				"Tamil",<br />				"English",<br />				"Maths"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa60"),<br />			"Student_Name" : "Rama",<br />			"Class" : "2",<br />			"Mark_Scored" : 80,<br />			"Subject" : [<br />				"Tamil"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa63"),<br />			"Student_Name" : "Rama",<br />			"Class" : "2",<br />			"Mark_Scored" : 80,<br />			"Subject" : [<br />				"English"<br />			]<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa66"),<br />			"Student_Name" : "Buddha",<br />			"Class" : "2",<br />			"Mark_Scored" : 88,<br />			"Subject" : [<br />				"Maths"<br />			]<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre><h2 id="unwind">$unwind</h2><p>This will be very useful when the data is stored as list. When the unwind operator is applied on a list data field, it will generate a new record for each and every element of the list data field on which unwind is applied. It basically flattens the data. Lets see an example to understand this better</p><b>Note:</b> The field name, on which unwind is applied, should be prefixed with $ (dollar sign)<br /><br /><b>Example:</b>Lets apply unwind over "Kalki"'s data.<br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Student_Name": "Kalki",<br />      }<br />   }<br />])<br /></pre>This generates the following output<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5c"),<br />			"Student_Name" : "Kalki",<br />			"Class" : "2",<br />			"Mark_Scored" : 100,<br />			"Subject" : [<br />				"Tamil",<br />				"English",<br />				"Maths"<br />			]<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre>Whereas<br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Student_Name": "Kalki",<br />      }<br />   },<br />   {<br />      "$unwind": "$Subject"<br />   }<br />])<br /></pre>will generate the following output<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5c"),<br />			"Student_Name" : "Kalki",<br />			"Class" : "2",<br />			"Mark_Scored" : 100,<br />			"Subject" : "Tamil"<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5c"),<br />			"Student_Name" : "Kalki",<br />			"Class" : "2",<br />			"Mark_Scored" : 100,<br />			"Subject" : "English"<br />		},<br />		{<br />			"_id" : ObjectId("517cbb98eccb9ee3d000fa5c"),<br />			"Student_Name" : "Kalki",<br />			"Class" : "2",<br />			"Mark_Scored" : 100,<br />			"Subject" : "Maths"<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre><h2 id="group">$group</h2><p>Now that we have flatten the data to be processed, lets try and group the data to process them. The group pipeline operator is similar to the SQL's GROUP BY clause. In SQL, we can't use GROUP BY unless we use any of the aggregation functions. The same way, we have to use an aggregation function in MongoDB as well. You can read more about the aggregation functions <a href="http://docs.mongodb.org/manual/reference/aggregation/#expressions">here</a>. As most of them are like in SQL, I don't think much explanation would be needed.</p><br /><b>Note:</b> The _id element in group operator is a must. We cannot change it to some other name. MongoDB identifies the grouping expression with the _id field only.<br /><br /><b>Example:</b> Lets try and get the sum of all the marks scored by each and every student, in Class "2"<br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Class": "2"<br />      }<br />   },<br />   {<br />      "$unwind": "$Subject"<br />   },<br />   {<br />      "$group":<br />      {<br />         "_id":<br />         {<br />            "Student_Name" : "$Student_Name"<br />         },<br />         "Total_Marks":<br />         {<br />            "$sum": "$Mark_Scored"<br />         }<br />      }<br />   }<br />])<br /></pre>If we look at this aggregation example, we have specified an _id element and Total_Marks element. The _id element tells MongoDB to group the documents based on Student_Name field. The Total_Marks uses an aggregation function <a href="http://docs.mongodb.org/manual/reference/aggregation/sum/#grp._S_sum">$sum</a>, which basically adds up all the marks and returns the sum. This will produce this Output<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"_id" : {<br />				"Student_Name" : "Rama"<br />			},<br />			"Total_Marks" : 200<br />		},<br />		{<br />			"_id" : {<br />				"Student_Name" : "Buddha"<br />			},<br />			"Total_Marks" : 208<br />		},<br />		{<br />			"_id" : {<br />				"Student_Name" : "Kalki"<br />			},<br />			"Total_Marks" : 300<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre>We can use the sum function to count the number of records match the grouped data. Instead of "$sum": "$Mark_Scored", "$sum": 1 will count the number of records. "$sum": 2 will add 2 for each and every grouped data.<br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Class": "2"<br />      }<br />   },<br />   {<br />      "$unwind": "$Subject"<br />   },<br />   {<br />      "$group":<br />      {<br />         "_id":<br />         {<br />            "Student_Name" : "$Student_Name"<br />         },<br />         "Total_Marks":<br />         {<br />            "$sum": 1<br />         }<br />      }<br />   }<br />])<br /></pre>This will produce this Output<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"_id" : {<br />				"Student_Name" : "Rama"<br />			},<br />			"Total_Marks" : 3<br />		},<br />		{<br />			"_id" : {<br />				"Student_Name" : "Buddha"<br />			},<br />			"Total_Marks" : 3<br />		},<br />		{<br />			"_id" : {<br />				"Student_Name" : "Kalki"<br />			},<br />			"Total_Marks" : 3<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre>This is because each and every student has marks for three subjects.<br /><h2 id="project">$project</h2><p>The project operator is similar to SELECT in SQL. We can use this to rename the field names and select/deselect the fields to be returned, out of the grouped fields. If we specify 0 for a field, it will NOT be sent in the pipeline to the next operator. We can even flatten the data using project as shown in the example below</p><b>Example:</b><br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Class": "2"<br />      }<br />   },<br />   {<br />      "$unwind": "$Subject"<br />   },<br />   {<br />      "$group":<br />      {<br />         "_id":<br />         {<br />            "Student_Name" : "$Student_Name"<br />         },<br />         "Total_Marks":<br />         {<br />            "$sum": "$Mark_Scored"<br />         }<br />      }<br />   },<br />   {<br />      "$project":<br />      {<br />         "_id":0,<br />         "Name":  "$_id.Student_Name",<br />         "Total": "$Total_Marks"<br />      }<br />   }<br />])<br /></pre>will result in<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"Name" : "Rama",<br />			"Total" : 200<br />		},<br />		{<br />			"Name" : "Buddha",<br />			"Total" : 208<br />		},<br />		{<br />			"Name" : "Kalki",<br />			"Total" : 300<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre>Lets say we try to retrieve Subject field by specifying project like shown below. MongoDB will simply ignore the Subject field, since it is not used in the group operator's _id field.<br /><pre class="prettyprint">"$project":<br />{<br />   "_id":0,<br />   "Subject":1,<br />   "Name":  "$_id.Student_Name",<br />   "Total": "$Total_Marks"<br />}<br /></pre><h2 id="sort">$sort</h2>This is similar to SQL's ORDER BY clause. To sort a particular field in descending order specify -1 and specify 1 if that field has to be sorted in ascending order. I don't think this section needs more explanation. Lets straight away look at an example<br /><b>Example:</b><br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Class": "2"<br />      }<br />   },<br />   {<br />      "$unwind": "$Subject"<br />   },<br />   {<br />      "$group":<br />      {<br />         "_id":<br />         {<br />            "Student_Name" : "$Student_Name"<br />         },<br />         "Total_Marks":<br />         {<br />            "$sum": "$Mark_Scored"<br />         }<br />      }<br />   },<br />   {<br />      "$project":<br />      {<br />         "_id":0,<br />         "Name":  "$_id.Student_Name",<br />         "Total": "$Total_Marks"<br />      }<br />   },<br />   {<br />      "$sort":<br />      {<br />         "Total":-1,<br />         "Name":1<br />      }<br />   }<br />])<br /></pre>Will Sort the data based on Marks in descending Order first and then by Name in Ascending Order.<br /><pre class="prettyprint">{<br />	"result" : [<br />		{<br />			"Name" : "Kalki",<br />			"Total" : 300<br />		},<br />		{<br />			"Name" : "Buddha",<br />			"Total" : 208<br />		},<br />		{<br />			"Name" : "Rama",<br />			"Total" : 200<br />		}<br />	],<br />	"ok" : 1<br />}<br /></pre><h2 id="skipandlimit">$limit and $skip</h2><p>These two operators can be used to limit the number of documents being returned. They will be more useful when we need pagination support.</p><b>Example:</b><br /><pre class="prettyprint">db.Student.aggregate ([<br />   {<br />      "$match":<br />      {<br />         "Class": "2"<br />      }<br />   },<br />   {<br />      "$unwind": "$Subject"<br />   },<br />   {<br />      "$group":<br />      {<br />         "_id":<br />         {<br />            "Student_Name" : "$Student_Name"<br />         },<br />         "Total_Marks":<br />         {<br />            "$sum": "$Mark_Scored"<br />         }<br />      }<br />   },<br />   {<br />      "$project":<br />      {<br />         "_id":0,<br />         "Name":  "$_id.Student_Name",<br />         "Total": "$Total_Marks"<br />      }<br />   },<br />   {<br />      "$sort":<br />      {<br />         "Total":-1,<br />         "Name":1<br />      }<br />   },<br />   {<br />      "$limit":2,<br />   },<br />   {<br />      "$skip":1,<br />   }<br />])<br /></pre>will result in<br /><pre class="prettyprint">{ "result" : [ { "Name" : "Buddha", "Total" : 208 } ], "ok" : 1 }<br /></pre>Because the limit operator receives 3 documents from the sort operator and allows only the first two documents to pass through it, thereby dropping Rama's record. The skip operator skips one document (that means the first document (Kalki's document) is dropped) and allows only the Buddha's document to pass through.<br /><br />All the examples shown here are readily usable with pyMongo (Just replace db.Student with your Collection object name)<br /><br /><br /></div></div>

    
  </article>

  <button onclick="topFunction()" id="back-to-top" title="Go to top">Back to
  Top</button>

  

<div id="sharingbuttons">
    
    
    <a class="resp-sharing-button__link"
    href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f" target="_blank"
    rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--facebook
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24
        24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5
        9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link"
    href="https://twitter.com/intent/tweet/?text=MongoDB%20Aggregation%20Framework%20Basics%20Explained&amp;url=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f" target="_blank" rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--twitter
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24
        24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96
        1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55
        2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6
        1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2
        1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78
        18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92
        12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link" href="mailto:?subject=MongoDB%20Aggregation%20Framework%20Basics%20Explained&amp;body=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f" target="_self" rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--email
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22
        4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9
        2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17
        0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1
        0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12
        13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5
        5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08
        0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5
        2c.24.13.32.44.18.68z"/></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link"
    href="https://www.linkedin.com/sharing/share-offsite/?url=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f"
    target="_blank" rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--linkedin
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24
        24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4
        2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2
        2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5
        6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f&amp;resubmit=true&amp;title=MongoDB%20Aggregation%20Framework%20Basics%20Explained" target="_blank"
    rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--reddit
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24
        11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42
        1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3
        .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38
        0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2
        4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3
        0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14
        10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5
        13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92
        1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8
        4.8c-1.08.63-2.42.96-3.8.96-1.4
        0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06
        4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1
        0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2
        2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2
        2 0 .84-.53 1.57-1.3 1.87z"/></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link" href="whatsapp://send?text=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f"
    target="_blank" rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--whatsapp
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24
        24"><path d="M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5
        3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1
        11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7
        0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2
        4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3
        9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9
        1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3
        0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9
        7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2
        3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7
        1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"/></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link"
    href="https://news.ycombinator.com/submitlink?u=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f&amp;t=MongoDB%20Aggregation%20Framework%20Basics%20Explained" target="_blank" rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--hackernews
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140
        140"><path fill-rule="evenodd" d="M60.94 82.314L17 0h20.08l25.85
        52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393
        3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618
        1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258
        1.26-2.585 2.552-5.27 3.877-8.052L103.49 0h18.69L77.84
        83.308v53.087h-16.9v-54.08z"></path></svg>
        </div>
      </div>
    </a>
    

    
    
    <a class="resp-sharing-button__link"
    href="https://telegram.me/share/url?text=MongoDB%20Aggregation%20Framework%20Basics%20Explained&amp;url=http%3a%2f%2fthefourtheye.in%2f2013%2f04%2f28%2fmongodb-aggregation-framework-basics%2f"
    target="_blank" rel="noopener" aria-label="">
      <div class="resp-sharing-button resp-sharing-button--telegram
      resp-sharing-button--small"><div aria-hidden="true"
      class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24
        24"><path d="M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718
        1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405
        0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0
        .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z"/></svg>
        </div>
      </div>
    </a>
    
</div>

  <div class="paginator">
    
    <a class="link" href="http://thefourtheye.in/2013/04/26/ubuntu-screen-configuration/" title="Ubuntu Screen Configuration">← prev</a>
    
    
    <a class="link" href="http://thefourtheye.in/2013/05/02/ubuntu-nvidia-driver-installation/" title="Ubuntu Nvidia Driver Installation">next →</a>
    
  </div>
  <div class="comment">
    
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "thefourtheye" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
      <script src="https://giscus.app/client.js"
        data-repo="thefourtheye/thefourtheye.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxOTA3MDA0Mg=="
        data-category="General"
        data-category-id="DIC_kwDOASL8Ws4CoERq"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

  </div>
  
  
</main>

    <br />
<hr />
<footer id="footer">
  <div>
    <span>Powered by  <a class=link href=https://gohugo.io target=_blank rel=noopener>Hugo</a> | 
Theme Inspired By <a class=link href=https://github.com/michaelneuper/hugo-texify3
target=_blank rel=noopener>TeXify3</a>
</span>
  </div>
  <div>
    <span>Copyright © 2025 Sakthipriyan Vairamani (thefourtheye)</span>
  </div>
  <div>
    <span>
      <a href="mailto:sakthi@thefourtheye.in">
	sakthi at thefourtheye dot in
      </a> |
      <a href="/Resume.pdf">
	Resume
      </a>
    </span>
  </div>
</footer>

  </div>

  
  <script src='http://thefourtheye.in/js/script.js' defer></script>

  
  

  
  

  
  

</body>

</html>
